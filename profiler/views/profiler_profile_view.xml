<openerp>
  <data>
    <record model="ir.ui.view" id="view_profile_list">
      <field name="name">view profile list</field>
      <field name="model">profiler.profile</field>
      <field name="arch" type="xml">
        <tree>
            <field name="enable_python"/>
            <field name="enable_postgresql"/>
            <field name="use_index"/>
            <field name="date_started"/>
            <field name="date_finished"/>
        </tree>
      </field>
    </record>
    <record model="ir.ui.view" id="view_profile_form">
      <field name="name">view profile form</field>
      <field name="model">profiler.profile</field>
      <field name="arch" type="xml">
        <form>
            <header>
                <button name="enable" string="Enable" type="object"
                    groups="base.group_system" states="disabled"/>
                <button name="disable" string="Disable" type="object"
                    groups="base.group_system" states="enabled"/>
                <button name="clear" string="Clear" type="object"
                    groups="base.group_system" states="enabled"/>
            </header>
            <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="action_view_attachment"
                            type="object"
                            class="oe_stat_button"
                            icon="fa-pencil-square-o"
                            attrs="{'invisible': [('attachment_count', '=', 0)]}">
                        </button>
                        <field name="attachment_count" widget="statinfo" string="Attachments"/>
                    </div>
            <group>
                <group>
                    <field name="name"/>
                    <field name="enable_python" attrs="{'readonly': [('state','=', 'enabled')]}"/>
                    <field name="enable_postgresql" attrs="{'readonly': [('state','=', 'enabled')]}"/>
                    <field name="use_index"/>
                    <field name="date_started"/>
                    <field name="date_finished"/>
                    <field name="state"/>
                </group>
                <group colspan="4">
                    <field name="description" nolabel="1"/>
                </group>
            </group>
            </sheet>
        </form>
      </field>
    </record>

    <record model="ir.actions.act_window" id="profile_action_window">
      <field name="name">Profiler</field>
      <field name="res_model">profiler.profile</field>
      <field name="view_mode">tree,form</field>
    </record>
    <menuitem name="Profiler" id="menu_profiler_root"/>
    <menuitem name="Profiler" id="menu_profiler" parent="menu_profiler_root"/>
    <menuitem name="Profile" id="menu_profile" parent="menu_profiler"
        action="profile_action_window"/>
  </data>
</openerp>
